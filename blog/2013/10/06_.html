<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8"/>
    <title>开发环境搭建</title>
    <link rel="stylesheet" type="text/less" href="../../../style/less/o-blog.less"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="generator" content="o-blog version 1.2"/>
    <script src="../../../style/js/less-1.3.0.min.js" type="text/javascript"></script>
    <script src="../../../style/js/jquery-1.7.1.min.js" type="text/javascript"></script>
    <script src="../../../style/bootstrap/js/bootstrap-modal.js" type="text/javascript"></script>
    <script src="../../../style/bootstrap/js/bootstrap-transition.js" type="text/javascript"></script>
    <script src="../../../style/bootstrap/js/bootstrap-dropdown.js" type="text/javascript"></script>
    <script src="../../../style/bootstrap/js/bootstrap-collapse.js" type="text/javascript"></script>
    <script src="../../../style/js/prettify.js" type="text/javascript"></script>
    <script src="../../../style/js/o-blog.linenumber.js" type="text/javascript"></script>
    <script src="../../../style/js/o-blog-fix.js" type="text/javascript"></script>
    
    
  </head>
  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
	<div class="container">
	  <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
	  <a class="brand" href="../../../index.html">PhD-Journal</a>
	  <div class="nav-collapse collapse">
	    <ul class="org-ul">
<li><a href="../../../attic/etimecowboy.html"><i>icon-user icon-white</i> 博主其人</a>
</li>

<li><a href="#"><i>icon-file icon-white</i> 最新博文</a>
<ul class="org-ul">
<li><a href="../../../blog/2013/10/06_.html">开发环境搭建</a>
</li>
<li><a href="Lisp error in nil: (wrong-type-argument arrayp nil)">Lisp error in nil: (wrong-type-argument arrayp nil)</a>
</li>
<li><a href="Lisp error in nil: (wrong-type-argument arrayp nil)">Lisp error in nil: (wrong-type-argument arrayp nil)</a>
</li>
<li><a href="Lisp error in nil: (wrong-type-argument arrayp nil)">Lisp error in nil: (wrong-type-argument arrayp nil)</a>
</li>
<li><a href="Lisp error in nil: (wrong-type-argument arrayp nil)">Lisp error in nil: (wrong-type-argument arrayp nil)</a>
</li>
</ul>
</li>

<li><a href="../../../static/favorite.html"><i>icon-cog icon-white</i> 网址收藏</a>
</li>

<li><a href="../../../tags/index.html"><i>icon-tags icon-white</i> 标签集合</a>
</li>

<li><a href="../../../archives.html"><i>icon-list icon-white</i> 博文归档</a>
</li>

<li><a href="../../../articles/index.html"><i>icon-book icon-white</i> 独立文章</a>
</li>

<li><a href="../../../changelog.html"><i>icon-pencil icon-white</i> 博客日志</a>
</li>

<li><a href="../../../roadmap.html"><i>icon-tasks icon-white</i> 博客计划</a>
</li>

<li><a href="../../../index.xml"><i>icon-rss icon-white</i> RSS推送</a>
</li>
</ul>


<div class="figure">
<p></p>
</div>

	  </div>
	</div>
      </div>
    </div>
    <div class="subnav subnav-fixed visible-desktop">
      <div class="container">
	<ul class="breadcrumb">
  <li><a href="../../../index.html">首页</a> <span class="divider">/</span></li>
  <li><a href="../../../blog/index.html">Blog</a> <span class="divider">/</span></li><li><a href="../../../blog/2013/index.html">2013</a> <span class="divider">/</span></li><li><a href="../../../blog/2013/10/index.html">10</a> <span class="divider">/</span></li><li>开发环境搭建</li>
  </ul>

      </div>
    </div>
    <div id="page" class="container">

  <div class="article">
  <header class="article-header">

    <div class="well">
      <div class="row">
	<div class="date span1">
	  <div class=" date-d">06</div>
	  <div class=" date-m"><a href="../../../blog/2013/10/index.html">十月</a></div>
	  <div class=" date-y"><a href="../../../blog/2013/index.html">2013</a>
	  </div>
	</div>
	<div class="span1">
	  <div class="qr-code">
  <img src="http://chart.apis.google.com/chart?chs=50x50&cht=qr&chld=|0&chl=http%3A%2F%2Fdrxyang.github.io%2Fblog%2F2013%2F10%2F06_.html"
       alt="qr-code" />
</div>

	</div>
	<h1 class="offset2" style="font-size: 250%">开发环境搭建</h1>
      </div>
      <nav>
	<ul class="pager">
	  <li class="previous">&nbsp;</li><li class="next">&nbsp;</li>
	</ul>
      </nav>
    </div>

  </header>
  <div class="article-content">
    <p>
Cochlear 公司提供的模块只能在 MATLAB 2012a 及以下的版本运行。这带来不少的麻烦。
需要完成配置
</p>

<ul class="org-ul">
<li>软件环境：
<ol class="org-ol">
<li>Windows 7 64-bit
</li>
<li>MATLAB 2012a 64-bit <sup><a id="fnr.1" name="fnr.1" class="footref" href="#fn.1">1</a></sup>
</li>
<li>Windows SDK 7.1, or Visual Studio 10.0 Professional with SP1
</li>
<li>Speedgoat driver 7
</li>
</ol>
</li>
<li>硬件环境：
<ol class="org-ol">
<li>Desktop PC
</li>
<li>Speedgoat target machine
<ul class="org-ul">
<li>1615 (new)
</li>
<li>1273 (old)
</li>
</ul>
</li>
</ol>
</li>
</ul>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">出现的问题</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1">安装 Windows SDK 7.1 失败</h3>
<div class="outline-text-3" id="text-1-1">
<blockquote>
<p>
Installation of the "Microsoft Windows SDKfor Windows 7" product has
reported the following error: Please refer to
Samples\Setup\HTML\ConfigDetails.htm document for further information.
</p>
</blockquote>


<p>
参考 <a href="http://support.microsoft.com/kb/2717426">Microsoft Support</a>
</p>

<p>
To resolve this issue, you must uninstall all versions of the Visual
C++ 2010 Redistributable before installing the Windows 7 SDK. You may
have one or more of the following products installed:
</p>

<ul class="org-ul">
<li>Microsoft Visual C++ 2010 x86 Redistributable
</li>
<li>Microsoft Visual C++ 2010 x64 Redistributable
</li>
</ul>

<p>
After uninstalling the Microsoft Visual C++ 2010 Redistributable
products, you may install the Windows 7 SDK. After installing the
Windows 7 SDK, you may then reinstall the newer version of the Visual
C++ 2010 Redistributable products, in order to restore the Visual C++
2010 Redistributable products to their original state.
</p>
</div>
</div>
<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2">配置 MATLAB &amp; xPC</h3>
<div class="outline-text-3" id="text-1-2">
<ol class="org-ol">
<li>Run MATLAB as administrator
</li>
<li>Set mex compiler by <code>mex -setup</code>
</li>
<li>Set xpc compiler by <code>xpcsetCC -setup</code>
</li>
<li>Set target kernel by <code>rtwintgt -setup</code>
</li>
</ol>
</div>
</div>
<div id="outline-container-sec-1-3" class="outline-3">
<h3 id="sec-1-3">安装 speedgoat driver</h3>
<div class="outline-text-3" id="text-1-3">
<ol class="org-ol">
<li>Download the latest driver
</li>
<li>Go to the driver folder
</li>
<li>Run <code>speedgoat_setup</code>
</li>
<li>Restart MATLAB
</li>
</ol>
</div>
</div>
<div id="outline-container-sec-1-4" class="outline-3">
<h3 id="sec-1-4">配置 target machine</h3>
<div class="outline-text-3" id="text-1-4">
</div><div id="outline-container-sec-1-4-1" class="outline-4">
<h4 id="sec-1-4-1">Run <code>xpcexplr</code> on 32-bit MATLAB to set target machine</h4>
<div class="outline-text-4" id="text-1-4-1">
<p>
Note: you will get error on 64-bit MATLAB
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="right" />
</colgroup>
<tbody>
<tr>
<td class="left">IP address</td>
<td class="right">192.168.7.1</td>
</tr>

<tr>
<td class="left">TCP/IP target port</td>
<td class="right">22222</td>
</tr>

<tr>
<td class="left">LAN subnet  mask    address:</td>
<td class="right">255.255.255.0</td>
</tr>

<tr>
<td class="left">TCP/IP gateway address</td>
<td class="right">255.255.255.255</td>
</tr>

<tr>
<td class="left">TCP/IP target driver</td>
<td class="right">I8254x</td>
</tr>

<tr>
<td class="left">Multicore CPU support</td>
<td class="right">enable</td>
</tr>

<tr>
<td class="left">Graphic mode</td>
<td class="right">enable</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-sec-1-4-2" class="outline-4">
<h4 id="sec-1-4-2">Run the commander tools on 64-bit MATLAB to set target machine</h4>
<div class="outline-text-4" id="text-1-4-2">
<p>
参考： MATLAB hep system "xPC Target"&#x2014;"User's Guide"&#x2014;"Configuring
Environment From the MATLAB Command Line"
</p>

<div class="org-src-container">

<pre class="src src-matlab"><span class="linenr"> 1: </span>tgs=xpctarget.targets;
<span class="linenr"> 2: </span>tgs.makeDefault(<span style="color: #cc9393;">'TargetPC1'</span>);
<span class="linenr"> 3: </span>env=tgs.Item(<span style="color: #cc9393;">'TargetPC1'</span>);
<span class="linenr"> 4: </span>env.HostTargetComm=<span style="color: #cc9393;">'TcpIp'</span>;
<span class="linenr"> 5: </span>env.TcpIpTargetAddress=<span style="color: #cc9393;">'192.168.7.1'</span>;
<span class="linenr"> 6: </span>env.TcpIpTargetPort=<span style="color: #cc9393;">'22222'</span>;
<span class="linenr"> 7: </span>env.TcpIpSubNetMask=<span style="color: #cc9393;">'255.255.255.0'</span>;
<span class="linenr"> 8: </span>env.TcpIpGateway=<span style="color: #cc9393;">'255.255.255.255'</span>;
<span class="linenr"> 9: </span>env.TcpIpTargetDriver=<span style="color: #cc9393;">'I8254x'</span>;
<span class="linenr">10: </span>env.SecondaryIDE=<span style="color: #cc9393;">'on'</span>;
<span class="linenr">11: </span>env.MulticoreSupport=<span style="color: #cc9393;">'on'</span>;
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-4-3" class="outline-4">
<h4 id="sec-1-4-3">Make a boot disk on the host PC</h4>
<div class="outline-text-4" id="text-1-4-3">
<p>
Run <code>speedgoatmachineboot</code>
</p>
</div>
</div>
<div id="outline-container-sec-1-4-4" class="outline-4">
<h4 id="sec-1-4-4">Transfer the kernel and make a boot disk</h4>
<div class="outline-text-4" id="text-1-4-4">
<ol class="org-ol">
<li>Insert the boot disk to an USB port of the target machine
</li>
<li>Restart the target machine to load the new kernel
</li>
<li>Check the display information of the target machine
</li>
<li>For the new target machine (1615), you have to disconnect the USB
keyboard when it boots up, otherwise it will fail (strange). You
can reconnect the keyboard after it boots up.
</li>
</ol>
</div>
</div>
</div>
<div id="outline-container-sec-1-5" class="outline-3">
<h3 id="sec-1-5">配置 host PC</h3>
<div class="outline-text-3" id="text-1-5">
<ol class="org-ol">
<li>Connect the host and the target via a Ethernet cable. Make sure
that the cable inserts to the correct "Host Link" port.
</li>
<li>Set IP address (TCP/IPV4) of the host
<ul class="org-ul">
<li>IP address: 192.168.7.2
</li>
<li>Subnet mask: 255.255.255.0
</li>
</ul>
</li>
</ol>
</div>
</div>
<div id="outline-container-sec-1-6" class="outline-3">
<h3 id="sec-1-6">测试 host-target 通讯连接</h3>
<div class="outline-text-3" id="text-1-6">
<ol class="org-ol">
<li><code>xpctargetping</code> success
</li>
<li><code>xpctest</code> success
</li>
<li>Speedgoat full system test (run demos)
</li>
</ol>
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" name="fn.1" class="footnum" href="#fnr.1">1</a></sup> <p>这里必须说一下，如果 64-bit 的 Windows7
     安装了 32-bit 的 MATLAB，将无法 使用 xPC 连接 target machine。</p></div>


</div>
</div>
  </div>
  
  <footer class="well article-footer">
    发布于 <time datetime="2013-10-06T20:20:00Z"> 2013-10-06 20:20:00</time>.
    <nav class="tag-cloud">
      <h1><i class="icon-tags"></i> 相关标签</h1>
      <ul>
	<li class="label label-inverse small"><a href="../../../tags/xpc.html">xpc</a></li><li class="label label-inverse small"><a href="../../../tags/setup.html">setup</a></li><li class="label label-inverse small"><a href="../../../tags/install.html">install</a></li>
      </ul>
    </nav>
  </footer>
  </div>
  <div id="disqus_thread"></div>
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'etimecowboy-phd'; // required: replace example with your forum shortname

  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

      </div>
      <div id="footer">
	<div class="container">
	  <div class="row">
	    <nav class="span3">
	      <h1>关于</h1>
	      <p>
这个博客是我读博期间的工作日志
</p>


<div class="figure">
<p></p>
</div>

	    </nav>
	    <nav id="links" class="span3">
	      <h1>链接</h1>
	      <ul>
		<ul class="org-ul">
<li><a href="../../../index.html"><i>icon-home icon-white</i> 首页</a>
</li>

<li><a href="../../../tags/index.html"><i>icon-tags icon-white</i> 标签</a>
</li>

<li><a href="../../../archives.html"><i>icon-list icon-white</i> 博文归档</a>
</li>

<li><a href="../../../notes/index.html"><i>icon-book icon-white</i> 独立笔记</a>
</li>

<li><a href="../../../index.xml"><i>icon-rss icon-white</i> RSS</a>
</li>
</ul>


<div class="figure">
<p></p>
</div>

	      </ul>
	    </nav>
	    <nav id="archives" class="span3">
	      <h1><a href="../../../archives.html">归档</a></h1>
	      <ul>
		<li><a href="../../../blog/2013/10/06_.html">开发环境搭建</a></li> 
	      </ul>
	    </nav>
	    <nav class="tags span3">
	      <h1><a href="../../../tags/index.html">标签</a></h1>
	      <ul>
  <li style="font-size: 80.00%;"><a href="../../../tags/install.html">install</a></li> <li style="font-size: 80.00%;"><a href="../../../tags/setup.html">setup</a></li> <li style="font-size: 80.00%;"><a href="../../../tags/xpc.html">xpc</a></li> 
</ul>

	    </nav>
	  </div>
	</div>
	<div class="copyright" style="text-align: center;">
	  <p>
版权所有 © 2008-2012 <a href="mailto:etimecowboy@163.com">etimecowboy</a>. 遵循<a href="http://creativecommons.org/licenses/by-nc-sa/2.5/cn/">Creative Commons
Attribution-Noncommercial-Share Alike</a> 中文许可发布.
</p>


<div class="figure">
<p></p>
</div>

	  <p>功能取自 <a href="https://github.com/renard/o-blog">o-blog</a>.</p>
	</div>
      </div>
</body>
</html>

